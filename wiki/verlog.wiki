#summary emlog历史发布版本记录



记录emlog的每一次重大的更新
=emlog 3.4.0=

数据库变更
INSERT INTO `{$db_prefix}options` (`option_id` ,`option_name` ,`option_value`)VALUES (NULL , 'isxmlrpcenable', 'y');

=emlog 3.3.0=
发布时间：2009/8/29

 * 修改emlog绝对路径定义方式，方便博客更换空间 
 * 默认模板支持后台编辑器的list样式
 * 安装时判断是否存在原有数据，防止重新安装覆盖
 * 后台评论管理显示评论者ip、email、主页信息 
 * 改造数据库备份方式，增加备份文件保存到本地功能
 * 修改插件加载方式，仅支持子目录形式的插件。
 * 修复友情链接、自定义页面不支持https、ftp开头的链接问题
 * 修复新建页面标题里包含单引号时无法隐藏、发布的bug
 * 修复相邻日志错误BUG
 * 修复登录验证绕过图片验证码的bug
 * 增加apache服务器能否开启url优化的检查
 * 优化后台条目列表样式，更加美观
 * 修复个别安全隐患，加强后台参数过滤
 * 增加若干挂载点，详见插件开发指南


==emlog 3.2.1==
发布时间：2009/6/12

 * 修复3.2.0Rss文章地址错误的问题
 * 修复3.2.0URL优化后出现的链接错误的问题
 * 修复部分3.1.0升级到3.2.0后无法增加作者的错误
 * 修复3.2.0后台评论时间错误的问题
 * 修复之前版本多次保存草稿出现js错误的问题

==emlog 3.2.0==
发布时间：2009/6/6

 * 增加插件功能。 
 * 大幅度改进后台管理的交互和页面设计，用户体验更好。 
 * 增加自建页面功能、可以方便的创建导航条、留言板 
 * 增加多人联合撰写功能 
 * 更换默认模板，更加美观 
 * 增加Google Picasa相册插件
 * 优化模板结构

数据库变更
{{{
ALTER TABLE {$db_prefix}blog ADD author INT( 10 ) NOT NULL DEFAULT '1' AFTER excerpt;
ALTER TABLE {$db_prefix}blog ADD type VARCHAR( 20 ) NOT NULL DEFAULT 'blog' AFTER sortid;
INSERT INTO {$db_prefix}options (option_name, option_value) VALUES ('viewcount_day','$day_view_count');
INSERT INTO {$db_prefix}options (option_name, option_value) VALUES ('viewcount_all','$view_count');
INSERT INTO {$db_prefix}options (option_name, option_value) VALUES ('viewcount_date','$curdate');
INSERT INTO {$db_prefix}options (option_name, option_value) VALUES ('active_plugins','a:1:{i:0;s:13:\"tips/tips.php\";}');
INSERT INTO {$db_prefix}options (option_name, option_value) VALUES ('navibar','a:0:{}');
DROP TABLE IF EXISTS {$db_prefix}statistics;
ALTER TABLE {$db_prefix}user ADD role VARCHAR( 60 ) NOT NULL AFTER nickname;
ALTER TABLE {$db_prefix}user CHANGE description description VARCHAR( 255 ) NOT NULL;
UPDATE {$db_prefix}user SET role = 'admin' WHERE uid =1 LIMIT 1;
}}}

==emlog 3.1.0==
发布时间：2009/3/7

 * 优化日志撰写逻辑和界面，增加日志摘要、日志加密。
 * 改进widgets侧边栏组件管理，操作更加方便、人性化。
 * 修复多个之前版本遗留的bug，包括经典的草稿标签显示在首页问题
 * 改进安装流程、去掉了可能给用户带来困惑的权限设置步骤
 * 后台日志管理添加按照分类和标签检索
 * 去掉doc目录下的文本说明，改用更加优雅的readme.html
 * 安装后自动填写博客地址，无需后台设置
 ……


数据库变更
{{{
ALTER TABLE em_blog ADD excerpt LONGTEXT NOT NULL AFTER content ;
ALTER TABLE em_blog CHANGE content content LONGTEXT NOT NULL ; 
ALTER TABLE em_blog ADD password VARCHAR( 255 ) NOT NULL default '' ; 
ALTER TABLE `emlog_tag DROP usenum;
 
DELETE FROM em_options WHERE option_name ='custom_content1' LIMIT 1 ;
DELETE FROM em_options WHERE option_name ='custom_content2' LIMIT 1 ;
DELETE FROM em_options WHERE option_name ='custom_content3' LIMIT 1 ;
DELETE FROM em_options WHERE option_name ='custom_content4' LIMIT 1 ;
DELETE FROM em_options WHERE option_name ='custom_title1' LIMIT 1 ;
DELETE FROM em_options WHERE option_name ='custom_title2' LIMIT 1 ;
DELETE FROM em_options WHERE option_name ='custom_title3' LIMIT 1 ;
DELETE FROM em_options WHERE option_name ='custom_title4' LIMIT 1 ;
 
INSERT INTO em_options (option_name, option_value) VALUES ('custom_widget','a:0:{}');
 
UPDATE em_options
SET option_value = 'a:8:{i:0;s:7:"blogger";i:1;s:8:"calendar";i:2;s:3:"tag";i:3;s:7:"archive";i:4;s:7:"newcomm";i:5;s:4:"link";i:6;s:6:"search";i:7;s:8:"bloginfo";}' WHERE option_name ='widgets1' LIMIT 1 ; 
}}}


==emlog 3.0.1==
发布时间：2009/1/4

{{{
emlog3.0.0发布后由于我们测试的疏忽，现存如下BUG：

1、日志分类条目BUG：后台所涉及到分类数目的操作都没有正确更新缓存，手动更新缓存可以解决此问题
2、评论未清除HTML标签BUG：除默认模板外，其它模板均有此问题，系评论model漏洞所致，请大家暂时先用默认模板，以免受到危害
3、发布新日志时，若更改时间，发布时间显示将会出现异常

}}}

==emlog 3.0.0==
发布时间：2008/12/29

重要新特性及优化：
{{{
1.新增侧边栏组件（widget）管理，实现侧边栏的高度可定制性
2.改进登录验证部分，实现用户状态的长久保存，不必频繁登录
3.大幅优化代码结构，后续开发、维护更加方便快捷，代码可读性更好
4.优化后台界面，后台用户体验得到提升
5.新增日志分类功能
6.改进日志管理，可以按照标签和分类检索
7.新增侧边栏项目：随机日志、最新日志 
8.改进评论显示顺序
}}}

BUG修复

{{{
1.日历在9月时下翻到10月变成1月的
2.IE6不支持中文标签超链接
}}}

数据库变更
{{{
ALTER TABLE emlog_user CHANGE password password VARCHAR( 64 ) NOT NULL;
ALTER TABLE emlog_blog DROP attcache;
ALTER TABLE emlog_blog CHANGE date date BIGINT( 20 ) NOT NULL;
ALTER TABLE emlog_attachment CHANGE addtime addtime BIGINT( 20 ) NOT NULL;
ALTER TABLE emlog_comment CHANGE date date BIGINT( 20 ) NOT NULL;
ALTER TABLE emlog_trackback CHANGE date date BIGINT( 20 ) NOT NULL;
ALTER TABLE emlog_twitter CHANGE date date BIGINT( 20 ) NOT NULL;
ALTER TABLE emlog_blog ADD sortid TINYINT( 3 ) NOT NULL DEFAULT '-1' AFTER content;
ALTER TABLE emlog_blog ADD attnum MEDIUMINT( 8 ) UNSIGNED NOT NULL DEFAULT '0' AFTER tbcount;emlog_tbcountemlog_
CREATE TABLE IF NOT EXISTS emlog_sort (
  emlog_sidemlog_ tinyint(3) unsigned NOT NULL AUTO_INCREMENT,
  emlog_sortnameemlog_ varchar(255) NOT NULL DEFAULT '',
  emlog_taxisemlog_ tinyint(3) NOT NULL DEFAULT '0',
  PRIMARY KEY (emlog_sidemlog_)
)

DROP TABLE emlog_configemlog_ 

CREATE TABLE IF NOT EXISTS emlog_options (
  emlog_option_idemlog_ int(11) unsigned NOT NULL AUTO_INCREMENT,
  emlog_option_nameemlog_ varchar(255) NOT NULL,
  emlog_option_valueemlog_ longtext NOT NULL,
  PRIMARY KEY (emlog_option_idemlog_)
)
}}}

==emlog 2.7.0==
发布时间：2008/8/3 

变更记录:

 * 改造附件上传和管理 附件管理更加直观方便。
 * 更新FCK编辑器到2.6，完全兼容 ie6+ ff2+ safari opera 
 * 优化缓存模块，速度更快，代码更优雅
 * 重构了前后台的模板标识，让模板制作更加方便清晰。
 * 重构了URL重写的逻辑，可维护性和扩展性提高
 * 优化前台标签对应日志和搜索日志列表呈现方式
 * 新增前台恢复评论和修改个人状态功能
 * 增加博客Gzip压缩功能,让博客打开速度更快,流量更小
 * 优化标签字体大小的算法，去掉了更多标签的页面。

BUG修复

 * 修复了时差导致的twitter 发布日期错误
 * 修复了wap的相关不足
 * 修复后台草稿管理多于1页后的bug


==数据库变更记录==

 * 增加Gzip开关设定选项

   ALTER TABLE `em_config` ADD `isgzipenable` ENUM( 'n', 'y' ) NOT NULL DEFAULT 'n' AFTER `isurlrewrite` ;

   ALTER TABLE `em_user` CHANGE `description` `description` TEXT NOT NULL

   ALTER TABLE `em_config` DROP `index_tagnum` 

   ALTER TABLE `em_attachment` DROP `attdes` 

==emlog2.6.5==
发布时间：2008/5/3 
====新增特性：====
 * wap功能 手机上的emlog 让你随身随地浏览博客书写心情（wap第一版暂不支持写日志，但可以写twitter）
 * tiwwter 功能 一句话博客
 * 日志自动保存，你只管认真的写日志，其他的交给emlog吧。

====功能优化：====
 * 优化数据库备份功能，兼容性更好。使得备份体验和成功率更高
 * 优化图片生成缩略图部分，提高兼容性可靠性
 * 登录方式的改进，前台也可以进行简单的管理操作
 * 验证码好看了点，字母数字混合 
 * 附件上传，用户体验有所改善 

====数据库变更记录====
{{{
 CREATE TABLE em_twitter (
 id INT NOT NULL AUTO_INCREMENT ,
 content VARCHAR(255) NOT NULL ,
 date VARCHAR(10) NOT NULL ,
 PRIMARY KEY (id)
 );

ALTER TABLE `em_config` ADD `index_twnum` TINYINT( 3 ) UNSIGNED DEFAULT '0' NOT NULL AFTER `index_tagnum` ;
}}}



==emlog2.6.0==
发布时间：2008/3/8 

新增特性：
 * 博主回复评论 
 * 日志上下相邻日志标题的显示 
 * URL REWRITE 博客伪静态
 * 增加评论人个人主页项 
 * 日志评论审核开启时，后台首页提示未审核的评论数 
 * 增加引用通告开关，可以关闭和开启所有博客的trackback功能 
 * 反垃圾引用
 * emlog开始采用GPLv2发布源代码 标志着emlog正式开源
功能优化：
 * 日志禁止评论时，不显示撰写评论表单
 * 日志禁止引用时，不显示引用地址
 * 优化后台友站管理，友站列表显示“友站描述”
 * 优化日志管理页面，可以直接查找该日志对应的评论进行管理
BUG修复
 * 图片附件添加到编辑器时，带有蓝色边框 
数据库变更记录
2.5.0 －－－>2.6
 * ALTER TABLE em_config ADD isurlrewrite enum('n','y') NOT NULL default 'n' AFTER iscomment; 系统设置增加URL重写选项 
 * ALTER TABLE em_comment ADD url VARCHAR( 75 ) NOT NULL AFTER mail ; 网友评论增加主页选项 
 * ALTER TABLE em_config CHANGE iscomment ischkcomment ENUM( 'n', 'y' ) NULL DEFAULT 'n' 重命名是否开启评论审核的字段 
 * ALTER TABLE em_config ADD istrackback ENUM( 'n', 'y' ) DEFAULT 'y' NOT NULL AFTER iscomment; 增加是否开启引用通告字段 
 * ALTER TABLE em_trackback ADD ip VARCHAR( 16 ) NOT NULL ; 引用通告增加一个ip字段 
 * ALTER TABLE em_comment ADD reply TEXT NOT NULL AFTER comment ; 增加管理员回复评论字段 		
==emlog2.5.0==

发布时间：2007/11/24 

更新记录：
 * 优化了日志附件的管理。
 * 图片附件可以直观的嵌入到日志内容，现在开始可以写一篇图文并茂的日志
 * 增加用户自定义html功能，加一些其他站的api 或是其他内容就不用老去修改模板
 * 日志归档同时显示当月日志数目
 * 优化一些细节（本次修改程序以及界面上小的修改和优化比较多）

==emlog2.4.0==

发布时间：2007/9/15
更新记录：

==emlog2.3.0==

发布时间：2007/7/29
更新记录：

==emlog2.2.0==

发布时间：2006/10/13
更新记录：

==emlog2.1.6 sp1==

发布时间：2006/9/3
更新记录：

==emlog2.1.6==

发布时间：2006/8/5
更新记录：

==emlog2.0.0==

发布时间：2006/5/14
更新记录：


==emlog1.0.3==

发布时间：2006/3/16
更新记录：


==emlog1.0.0正式版==

发布时间：2005/12/29
更新记录：


==emlog1.0.0预览版==

发布时间：2005/10/27
更新记录：